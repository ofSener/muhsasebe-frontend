<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rapor Ayarları - IHSAN AI</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Manrope:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../assets/css/main.css">
  <script src="https://unpkg.com/htmx.org@1.9.10"></script>
</head>
<body>
  <div class="gradient-mesh"></div>
  <div class="app-container">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar"></aside>

    <!-- Main Content -->
    <main class="main-content">
      <nav class="navbar">
        <div class="navbar-left">
          <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Menü">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </button>
          <div class="navbar-breadcrumb">
            <span class="breadcrumb-item">Ayarlar</span>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-item active">Rapor Ayarları</span>
          </div>
        </div>
        <div class="navbar-right">
          <button class="navbar-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/>
              <path d="M13.73 21a2 2 0 01-3.46 0"/>
            </svg>
            <span class="badge">3</span>
          </button>
          <div class="navbar-divider"></div>
          <div class="navbar-user">
            <div class="navbar-avatar">AY</div>
            <div class="navbar-user-info">
              <div class="navbar-user-name">Ahmet Yılmaz</div>
              <div class="navbar-user-role">Ana Yönetici</div>
            </div>
          </div>
        </div>
      </nav>

      <!-- Page Wrapper -->
      <div class="page-wrapper">
        <div class="page-content">
        <div class="page-header">
          <div>
            <h1 class="page-title">Rapor Ayarları</h1>
            <p class="page-subtitle">Otomatik rapor gönderim ve içerik ayarlarını yapılandırın.</p>
          </div>
          <div class="page-actions">
            <button class="btn btn-primary" id="saveSettings">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"/>
                <polyline points="17,21 17,13 7,13 7,21"/>
                <polyline points="7,3 7,8 15,8"/>
              </svg>
              Ayarları Kaydet
            </button>
          </div>
        </div>

        <div class="settings-grid">
          <!-- Automatic Reports -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Otomatik Rapor Gönderimi</h3>
              <label class="toggle-switch">
                <input type="checkbox" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="card-body">
              <div class="form-group">
                <label class="form-label">Gönderim Sıklığı</label>
                <div class="schedule-options">
                  <label class="schedule-option">
                    <input type="radio" name="frequency" value="daily">
                    <div class="option-content">
                      <span class="option-title">Günlük Rapor</span>
                      <span class="option-desc">Her gün saat 09:00'da gönderilir</span>
                    </div>
                  </label>
                  <label class="schedule-option">
                    <input type="radio" name="frequency" value="weekly" checked>
                    <div class="option-content">
                      <span class="option-title">Haftalık Rapor</span>
                      <span class="option-desc">Her Pazartesi saat 09:00'da gönderilir</span>
                    </div>
                  </label>
                  <label class="schedule-option">
                    <input type="radio" name="frequency" value="monthly">
                    <div class="option-content">
                      <span class="option-title">Aylık Rapor</span>
                      <span class="option-desc">Her ayın 1'inde saat 09:00'da gönderilir</span>
                    </div>
                  </label>
                </div>
              </div>

              <div class="form-group" style="margin-top: 1.5rem;">
                <label class="form-label">Gönderim Saati</label>
                <select class="form-select">
                  <option>07:00</option>
                  <option>08:00</option>
                  <option selected>09:00</option>
                  <option>10:00</option>
                  <option>11:00</option>
                  <option>12:00</option>
                  <option>17:00</option>
                  <option>18:00</option>
                </select>
              </div>

              <div class="form-group" style="margin-top: 1.5rem;">
                <label class="form-label">Rapor Formatı</label>
                <div class="format-options">
                  <label class="format-checkbox">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="format-badge format-pdf">
                      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                        <polyline points="14,2 14,8 20,8"/>
                      </svg>
                      PDF
                    </span>
                  </label>
                  <label class="format-checkbox">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="format-badge format-xlsx">
                      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/>
                        <line x1="9" y1="3" x2="9" y2="21"/>
                        <line x1="3" y1="9" x2="21" y2="9"/>
                      </svg>
                      Excel
                    </span>
                  </label>
                  <label class="format-checkbox">
                    <input type="checkbox" class="form-checkbox">
                    <span class="format-badge format-csv">
                      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                      </svg>
                      CSV
                    </span>
                  </label>
                </div>
              </div>
            </div>
          </div>

          <!-- Email Recipients -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">E-posta Alıcıları</h3>
              <button class="btn btn-sm btn-secondary" id="addRecipient">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="12" y1="5" x2="12" y2="19"/>
                  <line x1="5" y1="12" x2="19" y2="12"/>
                </svg>
                Ekle
              </button>
            </div>
            <div class="card-body">
              <div class="recipients-list">
                <div class="recipient-item">
                  <div class="recipient-info">
                    <div class="recipient-avatar" style="background: linear-gradient(135deg, #00d4ff, #0ea5e9);">AY</div>
                    <div>
                      <p class="recipient-email">ahmet@sigortapro.com</p>
                      <p class="recipient-role">Ana Yönetici</p>
                    </div>
                  </div>
                  <div class="recipient-actions">
                    <span class="status-badge status-success">Aktif</span>
                    <button class="action-btn action-danger" title="Kaldır">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                      </svg>
                    </button>
                  </div>
                </div>
                <div class="recipient-item">
                  <div class="recipient-info">
                    <div class="recipient-avatar" style="background: linear-gradient(135deg, #ec4899, #f472b6);">FK</div>
                    <div>
                      <p class="recipient-email">fatma@sigortapro.com</p>
                      <p class="recipient-role">Satış Temsilcisi</p>
                    </div>
                  </div>
                  <div class="recipient-actions">
                    <span class="status-badge status-success">Aktif</span>
                    <button class="action-btn action-danger" title="Kaldır">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                      </svg>
                    </button>
                  </div>
                </div>
                <div class="recipient-item">
                  <div class="recipient-info">
                    <div class="recipient-avatar" style="background: linear-gradient(135deg, #f59e0b, #fbbf24);">EX</div>
                    <div>
                      <p class="recipient-email">muhasebe@example.com</p>
                      <p class="recipient-role">Harici Alıcı</p>
                    </div>
                  </div>
                  <div class="recipient-actions">
                    <span class="status-badge status-success">Aktif</span>
                    <button class="action-btn action-danger" title="Kaldır">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                      </svg>
                    </button>
                  </div>
                </div>
              </div>

              <div class="form-group" style="margin-top: 1.5rem;">
                <label class="form-label">Yeni E-posta Ekle</label>
                <div class="add-email-row">
                  <input type="email" class="form-input" placeholder="ornek@email.com">
                  <button class="btn btn-secondary">Ekle</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Report Content Settings -->
          <div class="card card-full">
            <div class="card-header">
              <h3 class="card-title">Rapor İçerik Ayarları</h3>
            </div>
            <div class="card-body">
              <p class="content-intro">Otomatik raporlarda hangi bölümlerin yer alacağını seçin:</p>

              <div class="content-options-grid">
                <label class="content-option">
                  <input type="checkbox" class="form-checkbox" checked>
                  <div class="content-option-body">
                    <div class="content-option-icon icon-cyan">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7" rx="1"/>
                        <rect x="14" y="3" width="7" height="7" rx="1"/>
                        <rect x="3" y="14" width="7" height="7" rx="1"/>
                        <rect x="14" y="14" width="7" height="7" rx="1"/>
                      </svg>
                    </div>
                    <div>
                      <span class="content-option-title">Özet Dashboard</span>
                      <span class="content-option-desc">Genel istatistikler ve özet kartlar</span>
                    </div>
                  </div>
                </label>

                <label class="content-option">
                  <input type="checkbox" class="form-checkbox" checked>
                  <div class="content-option-body">
                    <div class="content-option-icon icon-emerald">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                        <polyline points="14,2 14,8 20,8"/>
                      </svg>
                    </div>
                    <div>
                      <span class="content-option-title">Poliçe Listesi</span>
                      <span class="content-option-desc">Dönem içi poliçe detayları</span>
                    </div>
                  </div>
                </label>

                <label class="content-option">
                  <input type="checkbox" class="form-checkbox" checked>
                  <div class="content-option-body">
                    <div class="content-option-icon icon-amber">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="1" x2="12" y2="23"/>
                        <path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/>
                      </svg>
                    </div>
                    <div>
                      <span class="content-option-title">Finansal Özet</span>
                      <span class="content-option-desc">Prim ve komisyon toplamları</span>
                    </div>
                  </div>
                </label>

                <label class="content-option">
                  <input type="checkbox" class="form-checkbox" checked>
                  <div class="content-option-body">
                    <div class="content-option-icon icon-violet">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                      </svg>
                    </div>
                    <div>
                      <span class="content-option-title">Çalışan Performansı</span>
                      <span class="content-option-desc">Kişi bazlı üretim raporu</span>
                    </div>
                  </div>
                </label>

                <label class="content-option">
                  <input type="checkbox" class="form-checkbox">
                  <div class="content-option-body">
                    <div class="content-option-icon icon-rose">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12,6 12,12 16,14"/>
                      </svg>
                    </div>
                    <div>
                      <span class="content-option-title">Tahsilat Durumu</span>
                      <span class="content-option-desc">Bekleyen ve gecikmiş ödemeler</span>
                    </div>
                  </div>
                </label>

                <label class="content-option">
                  <input type="checkbox" class="form-checkbox">
                  <div class="content-option-body">
                    <div class="content-option-icon icon-pink">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M23 4v6h-6"/>
                        <path d="M1 20v-6h6"/>
                        <path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"/>
                      </svg>
                    </div>
                    <div>
                      <span class="content-option-title">Yenileme Takvimi</span>
                      <span class="content-option-desc">Yaklaşan yenilemeler</span>
                    </div>
                  </div>
                </label>

                <label class="content-option">
                  <input type="checkbox" class="form-checkbox" checked>
                  <div class="content-option-body">
                    <div class="content-option-icon icon-teal">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21.21 15.89A10 10 0 118 2.83"/>
                        <path d="M22 12A10 10 0 0012 2v10z"/>
                      </svg>
                    </div>
                    <div>
                      <span class="content-option-title">Grafikler</span>
                      <span class="content-option-desc">Görsel istatistik grafikleri</span>
                    </div>
                  </div>
                </label>

                <label class="content-option">
                  <input type="checkbox" class="form-checkbox">
                  <div class="content-option-body">
                    <div class="content-option-icon icon-magenta">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                      </svg>
                    </div>
                    <div>
                      <span class="content-option-title">Müşteri Özeti</span>
                      <span class="content-option-desc">Yeni müşteri istatistikleri</span>
                    </div>
                  </div>
                </label>

                <label class="content-option">
                  <input type="checkbox" class="form-checkbox">
                  <div class="content-option-body">
                    <div class="content-option-icon icon-yellow">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                      </svg>
                    </div>
                    <div>
                      <span class="content-option-title">Karşılaştırma</span>
                      <span class="content-option-desc">Önceki dönemle karşılaştırma</span>
                    </div>
                  </div>
                </label>
              </div>
            </div>
          </div>

          <!-- Test & Preview -->
          <div class="card card-full">
            <div class="card-header">
              <h3 class="card-title">Test ve Önizleme</h3>
            </div>
            <div class="card-body">
              <div class="test-actions">
                <button class="btn btn-secondary">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                    <circle cx="12" cy="12" r="3"/>
                  </svg>
                  Raporu Önizle
                </button>
                <button class="btn btn-secondary">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                    <polyline points="22,6 12,13 2,6"/>
                  </svg>
                  Test E-postası Gönder
                </button>
                <span class="last-test">Son test: 10.01.2026 15:30</span>
              </div>
            </div>
          </div>
        </div>
        </div>
      </div>
    </main>
  </div>

  <script src="../../assets/js/config.js"></script>
  <script src="../../assets/js/app.js"></script>

  <style>
    .settings-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1.5rem;
    }
    .card-full {
      grid-column: span 2;
    }

    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 48px;
      height: 26px;
    }
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(148, 163, 184, 0.2);
      transition: .3s;
      border-radius: 26px;
    }
    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 20px;
      width: 20px;
      left: 3px;
      bottom: 3px;
      background: white;
      transition: .3s;
      border-radius: 50%;
    }
    .toggle-switch input:checked + .toggle-slider {
      background: linear-gradient(135deg, #10b981, #34d399);
    }
    .toggle-switch input:checked + .toggle-slider:before {
      transform: translateX(22px);
    }

    .schedule-options {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    .schedule-option {
      display: flex;
      align-items: flex-start;
      gap: 0.875rem;
      padding: 1rem 1.25rem;
      background: var(--bg-surface);
      border: 2px solid var(--border-subtle);
      border-radius: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .schedule-option:hover {
      border-color: var(--border-default);
      background: var(--bg-elevated);
    }
    .schedule-option:has(input:checked) {
      background: rgba(99, 102, 241, 0.08);
      border-color: var(--primary);
    }
    .schedule-option input {
      margin-top: 2px;
      accent-color: var(--primary);
    }
    .option-content {
      display: flex;
      flex-direction: column;
    }
    .option-title {
      font-weight: 600;
      font-size: 0.9375rem;
      color: var(--text-primary);
    }
    .option-desc {
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-top: 0.125rem;
    }

    .format-options {
      display: flex;
      gap: 1rem;
    }
    .format-checkbox {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
    }
    .format-badge {
      display: flex;
      align-items: center;
      gap: 0.375rem;
      padding: 0.5rem 0.875rem;
      border-radius: 0.5rem;
      font-weight: 600;
      font-size: 0.8125rem;
      transition: all 0.2s;
    }
    .format-pdf { background: rgba(239, 68, 68, 0.1); color: #ef4444; }
    .format-xlsx { background: rgba(16, 185, 129, 0.1); color: #10b981; }
    .format-csv { background: rgba(99, 102, 241, 0.1); color: #6366f1; }
    .format-checkbox:has(input:checked) .format-badge {
      box-shadow: 0 0 0 2px currentColor;
    }

    .recipients-list {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    .recipient-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.875rem 1rem;
      background: var(--bg-elevated);
      border-radius: 0.625rem;
      border: 1px solid var(--border-subtle);
    }
    .recipient-info {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    .recipient-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 0.75rem;
      font-weight: 700;
      font-family: 'JetBrains Mono', monospace;
    }
    .recipient-email {
      font-weight: 500;
      font-size: 0.875rem;
      color: var(--text-primary);
    }
    .recipient-role {
      font-size: 0.75rem;
      color: var(--text-muted);
    }
    .recipient-actions {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .add-email-row {
      display: flex;
      gap: 0.5rem;
    }
    .add-email-row .form-input {
      flex: 1;
    }

    .content-intro {
      font-size: 0.875rem;
      color: var(--text-secondary);
      margin-bottom: 1.5rem;
    }

    .content-options-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
    }
    .content-option {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      padding: 1rem;
      background: var(--bg-surface);
      border: 2px solid var(--border-subtle);
      border-radius: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .content-option:hover {
      border-color: var(--border-default);
      background: var(--bg-elevated);
    }
    .content-option:has(input:checked) {
      background: rgba(99, 102, 241, 0.08);
      border-color: var(--primary);
    }
    .content-option-body {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      flex: 1;
    }
    .content-option-icon {
      width: 44px;
      height: 44px;
      border-radius: 0.625rem;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }
    .icon-cyan { background: rgba(0, 212, 255, 0.1); color: #00d4ff; }
    .icon-emerald { background: rgba(16, 185, 129, 0.1); color: #10b981; }
    .icon-amber { background: rgba(245, 158, 11, 0.1); color: #f59e0b; }
    .icon-violet { background: rgba(99, 102, 241, 0.1); color: #6366f1; }
    .icon-rose { background: rgba(239, 68, 68, 0.1); color: #ef4444; }
    .icon-pink { background: rgba(168, 85, 247, 0.1); color: #a855f7; }
    .icon-teal { background: rgba(20, 184, 166, 0.1); color: #14b8a6; }
    .icon-magenta { background: rgba(236, 72, 153, 0.1); color: #ec4899; }
    .icon-yellow { background: rgba(251, 191, 36, 0.1); color: #fbbf24; }
    .content-option-title {
      display: block;
      font-weight: 600;
      font-size: 0.875rem;
      color: var(--text-primary);
    }
    .content-option-desc {
      display: block;
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-top: 0.125rem;
    }

    .test-actions {
      display: flex;
      gap: 1rem;
      align-items: center;
    }
    .last-test {
      font-size: 0.875rem;
      color: var(--text-muted);
      margin-left: auto;
    }

    .action-btn.action-danger:hover {
      color: #ef4444;
    }

    @media (max-width: 1200px) {
      .content-options-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    @media (max-width: 1024px) {
      .settings-grid {
        grid-template-columns: 1fr;
      }
      .card-full {
        grid-column: span 1;
      }
    }
    @media (max-width: 768px) {
      .content-options-grid {
        grid-template-columns: 1fr;
      }
      .test-actions {
        flex-wrap: wrap;
      }
      .last-test {
        width: 100%;
        margin-left: 0;
        margin-top: 0.5rem;
      }
    }
  </style>
  <script src="../../components/sidebar.js"></script>
</body>
</html>
